{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\fokic\\\\WebstormProjects\\\\cordovaReactProject\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\fokic\\\\WebstormProjects\\\\cordovaReactProject\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\fokic\\\\WebstormProjects\\\\cordovaReactProject\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\fokic\\\\WebstormProjects\\\\cordovaReactProject\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\Users\\\\fokic\\\\WebstormProjects\\\\cordovaReactProject\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\fokic\\\\WebstormProjects\\\\cordovaReactProject\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Link}from\"react-router-dom\";import{withRouter}from\"react-router-dom\";import'../App.css';//components\nimport Button from\"../Button\";//files\nimport new_quest_text from\"../img/UI/new_quest_text.png\";import diff_trivial from\"../img/UI/difficulties/diff_trivial.png\";import diff_trivial_a from\"../img/UI/difficulties/diff_trivial_a.png\";import diff_easy from\"../img/UI/difficulties/diff_easy.png\";import diff_easy_a from\"../img/UI/difficulties/diff_easy_a.png\";import diff_medium from\"../img/UI/difficulties/diff_medium.png\";import diff_medium_a from\"../img/UI/difficulties/diff_medium_a.png\";import diff_hard from\"../img/UI/difficulties/diff_hard.png\";import diff_hard_a from\"../img/UI/difficulties/diff_hard_a.png\";import btn_delete from\"../img/UI/buttons/btn_delete.png\";import btn_create from\"../img/UI/buttons/btn_create.png\";var NewQuestView=/*#__PURE__*/function(_Component){_inherits(NewQuestView,_Component);function NewQuestView(props){var _this;_classCallCheck(this,NewQuestView);_this=_possibleConstructorReturn(this,_getPrototypeOf(NewQuestView).call(this,props));//passing handler to child so child can change parent state\n_this.storage=_this.props.storage;_this.handler=_this.handler.bind(_assertThisInitialized(_this));_this.state={active_diff:\"null\"};return _this;}//variables\n_createClass(NewQuestView,[{key:\"handler\",value:function handler(btn_action){// Button class changes parent class's state\nif(btn_action.includes(\"diff\")){this.setState({active_diff:btn_action});}else if(btn_action===\"quest_delete\"){//alert(this.storage.getItem(\"test\"));\nalert(\"delete\");}else if(btn_action===\"quest_create\"){this.createQuestEntry();}else{//do nothing\n}}},{key:\"render\",value:function render(){var btn_comp_trivial,btn_comp_easy,btn_comp_medium,btn_comp_hard;var btn_src_trivial=diff_trivial;var btn_src_easy=diff_easy;var btn_src_medium=diff_medium;var btn_src_hard=diff_hard;if(this.state.active_diff===\"diff_trivial\"){btn_src_trivial=diff_trivial_a;}else if(this.state.active_diff===\"diff_easy\"){btn_src_easy=diff_easy_a;}else if(this.state.active_diff===\"diff_medium\"){btn_src_medium=diff_medium_a;}else if(this.state.active_diff===\"diff_hard\"){btn_src_hard=diff_hard_a;}else{//do nothing\n}btn_comp_trivial=React.createElement(Button,{handler:this.handler,init_height:this.initial_height,btn_src:btn_src_trivial,btn_id:\"btn_diff_trivial\",btn_action:\"diff_trivial\",btn_size:\"d\"});btn_comp_easy=React.createElement(Button,{handler:this.handler,init_height:this.initial_height,btn_src:btn_src_easy,btn_id:\"btn_diff_easy\",btn_action:\"diff_easy\",btn_size:\"d\"});btn_comp_medium=React.createElement(Button,{handler:this.handler,init_height:this.initial_height,btn_src:btn_src_medium,btn_id:\"btn_diff_medium\",btn_action:\"diff_medium\",btn_size:\"d\"});btn_comp_hard=React.createElement(Button,{handler:this.handler,init_height:this.initial_height,btn_src:btn_src_hard,btn_id:\"btn_diff_hard\",btn_action:\"diff_hard\",btn_size:\"d\"});return React.createElement(\"div\",{id:\"newQuestView\"},React.createElement(\"div\",{id:\"newQuestTop\"},React.createElement(\"img\",{src:new_quest_text,id:\"newQuestTextImg\",alt:\"New Quest!\"}),React.createElement(\"textarea\",{id:\"goalTextArea\",rows:\"1\",placeholder:\"What's the goal?\"}),React.createElement(\"textarea\",{id:\"detailsTextArea\",rows:\"5\",placeholder:\"Details...\"})),React.createElement(\"div\",{id:\"newQuestMiddle\"},React.createElement(\"div\",{id:\"newQuestDifficultySpan\"},\"Difficulty\"),React.createElement(\"div\",{id:\"newQuestDifficulty\"},React.createElement(\"table\",{id:\"newQuestTable\"},React.createElement(\"tr\",null,React.createElement(\"td\",null,btn_comp_trivial),React.createElement(\"td\",null,btn_comp_easy),React.createElement(\"td\",null,btn_comp_medium),React.createElement(\"td\",null,btn_comp_hard)),React.createElement(\"tr\",null,React.createElement(\"td\",null,\"Trivial\"),React.createElement(\"td\",null,\"Easy\"),React.createElement(\"td\",null,\"Medium\"),React.createElement(\"td\",null,\"Hard\")))),React.createElement(\"div\",{id:\"newQuestButtons\"},React.createElement(Button,{handler:this.handler,init_height:this.initial_height,btn_src:btn_delete,btn_id:\"btn_quest_delete\",btn_action:\"quest_delete\",btn_size:\"m\"}),React.createElement(Button,{handler:this.handler,init_height:this.initial_height,btn_src:btn_create,btn_id:\"btn_quest_create\",btn_action:\"quest_create\",btn_size:\"m\"}))));}},{key:\"createQuestEntry\",value:function createQuestEntry(){//read json array into variable\nvar questsArray=[];var questID;if(this.storage.getItem(\"questsArray\")===\"\"){questID=0;}else{questsArray=JSON.parse(this.storage.getItem(\"questsArray\"));}//append new quest\nvar questObject={quest_id:questsArray.length,quest_name:document.getElementById(\"goalTextArea\").value,quest_details:document.getElementById(\"detailsTextArea\").value,quest_diff:this.state.active_diff};//make name and difficulty mandatory\nif(!questObject.quest_name||questObject.quest_diff===\"null\"){alert(\"Please enter the name and select the difficulty!\");}else{//alert(quest_name + \" \" + quest_details + \" \" + quest_diff);\n//overwrite array back into localStorage\nquestsArray.push(questObject);this.storage.setItem(\"questsArray\",JSON.stringify(questsArray));this.props.history.push(\"/\");}}},{key:\"componentWillMount\",value:function componentWillMount(){this.initial_height=parseInt(document.body.scrollHeight);}},{key:\"componentDidMount\",value:function componentDidMount(){var body_height=parseInt(document.body.scrollHeight)-2*parseInt(getComputedStyle(document.getElementById('newQuestView'),null).getPropertyValue('border-width'));document.getElementById(\"newQuestView\").setAttribute(\"style\",\"height: \"+body_height+\"px\");//set newQuestText height\nvar quest_height=this.initial_height*0.07;document.getElementById(\"newQuestTextImg\").setAttribute(\"style\",\"height:\"+quest_height+\"px; margin-top: 10px;\");//set textareas' font size\nvar goals_font_size=this.initial_height*0.03;//goal\ndocument.getElementById(\"goalTextArea\").setAttribute(\"style\",\"font-size: \"+goals_font_size+\"px\");//description\ndocument.getElementById(\"detailsTextArea\").setAttribute(\"style\",\"font-size: \"+goals_font_size+\"px\");}}]);return NewQuestView;}(Component);export default withRouter(NewQuestView);","map":{"version":3,"sources":["C:/Users/fokic/WebstormProjects/cordovaReactProject/src/view_quests/NewQuestView.js"],"names":["React","Component","Link","withRouter","Button","new_quest_text","diff_trivial","diff_trivial_a","diff_easy","diff_easy_a","diff_medium","diff_medium_a","diff_hard","diff_hard_a","btn_delete","btn_create","NewQuestView","props","storage","handler","bind","state","active_diff","btn_action","includes","setState","alert","createQuestEntry","btn_comp_trivial","btn_comp_easy","btn_comp_medium","btn_comp_hard","btn_src_trivial","btn_src_easy","btn_src_medium","btn_src_hard","initial_height","questsArray","questID","getItem","JSON","parse","questObject","quest_id","length","quest_name","document","getElementById","value","quest_details","quest_diff","push","setItem","stringify","history","parseInt","body","scrollHeight","body_height","getComputedStyle","getPropertyValue","setAttribute","quest_height","goals_font_size"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {\r\n    Link\r\n} from \"react-router-dom\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport '../App.css';\r\n\r\n//components\r\nimport Button from \"../Button\";\r\n\r\n//files\r\nimport new_quest_text from \"../img/UI/new_quest_text.png\";\r\nimport diff_trivial from \"../img/UI/difficulties/diff_trivial.png\";\r\nimport diff_trivial_a from \"../img/UI/difficulties/diff_trivial_a.png\";\r\nimport diff_easy from \"../img/UI/difficulties/diff_easy.png\";\r\nimport diff_easy_a from \"../img/UI/difficulties/diff_easy_a.png\";\r\nimport diff_medium from \"../img/UI/difficulties/diff_medium.png\";\r\nimport diff_medium_a from \"../img/UI/difficulties/diff_medium_a.png\";\r\nimport diff_hard from \"../img/UI/difficulties/diff_hard.png\";\r\nimport diff_hard_a from \"../img/UI/difficulties/diff_hard_a.png\";\r\nimport btn_delete from \"../img/UI/buttons/btn_delete.png\";\r\nimport btn_create from \"../img/UI/buttons/btn_create.png\";\r\n\r\n\r\nclass NewQuestView extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        //passing handler to child so child can change parent state\r\n        this.handler = this.handler.bind(this);\r\n        this.state = {\r\n            active_diff: \"null\"\r\n        };\r\n    }\r\n\r\n    //variables\r\n    initial_height;\r\n    storage = this.props.storage;\r\n\r\n\r\n    handler(btn_action){\r\n        // Button class changes parent class's state\r\n        if (btn_action.includes(\"diff\")){\r\n            this.setState({\r\n                active_diff: btn_action\r\n            });\r\n        }\r\n        else if (btn_action === \"quest_delete\"){\r\n            //alert(this.storage.getItem(\"test\"));\r\n            alert(\"delete\");\r\n        }\r\n        else if (btn_action === \"quest_create\"){\r\n            this.createQuestEntry();\r\n        }\r\n        else{\r\n            //do nothing\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let btn_comp_trivial, btn_comp_easy, btn_comp_medium, btn_comp_hard;\r\n        let btn_src_trivial = diff_trivial;\r\n        let btn_src_easy = diff_easy;\r\n        let btn_src_medium = diff_medium;\r\n        let btn_src_hard = diff_hard;\r\n        if (this.state.active_diff === \"diff_trivial\"){\r\n            btn_src_trivial = diff_trivial_a;\r\n        }\r\n        else if(this.state.active_diff === \"diff_easy\"){\r\n            btn_src_easy = diff_easy_a;\r\n        }\r\n        else if(this.state.active_diff === \"diff_medium\"){\r\n            btn_src_medium = diff_medium_a;\r\n        }\r\n        else if(this.state.active_diff === \"diff_hard\"){\r\n            btn_src_hard = diff_hard_a;\r\n        }\r\n        else{\r\n            //do nothing\r\n        }\r\n        btn_comp_trivial = <Button handler={this.handler} init_height={this.initial_height} btn_src={btn_src_trivial} btn_id=\"btn_diff_trivial\" btn_action=\"diff_trivial\" btn_size=\"d\"/>;\r\n        btn_comp_easy = <Button handler={this.handler} init_height={this.initial_height} btn_src={btn_src_easy} btn_id=\"btn_diff_easy\" btn_action=\"diff_easy\" btn_size=\"d\"/>;\r\n        btn_comp_medium = <Button handler={this.handler} init_height={this.initial_height} btn_src={btn_src_medium} btn_id=\"btn_diff_medium\" btn_action=\"diff_medium\" btn_size=\"d\"/>;\r\n        btn_comp_hard = <Button handler={this.handler} init_height={this.initial_height} btn_src={btn_src_hard} btn_id=\"btn_diff_hard\" btn_action=\"diff_hard\" btn_size=\"d\"/>;\r\n\r\n        return (\r\n            <div id=\"newQuestView\">\r\n                <div id=\"newQuestTop\">\r\n                    <img src={new_quest_text} id=\"newQuestTextImg\" alt=\"New Quest!\"/>\r\n                    <textarea id=\"goalTextArea\" rows=\"1\" placeholder=\"What's the goal?\"/>\r\n                    <textarea id=\"detailsTextArea\" rows=\"5\" placeholder=\"Details...\"/>\r\n                </div>\r\n                <div id=\"newQuestMiddle\">\r\n                    <div id=\"newQuestDifficultySpan\">Difficulty</div>\r\n                    <div id=\"newQuestDifficulty\">\r\n                        <table id=\"newQuestTable\">\r\n                            <tr>\r\n                                <td>{btn_comp_trivial}</td>\r\n                                <td>{btn_comp_easy}</td>\r\n                                <td>{btn_comp_medium}</td>\r\n                                <td>{btn_comp_hard}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>Trivial</td>\r\n                                <td>Easy</td>\r\n                                <td>Medium</td>\r\n                                <td>Hard</td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                    <div id=\"newQuestButtons\">\r\n                        <Button handler={this.handler} init_height={this.initial_height} btn_src={btn_delete} btn_id=\"btn_quest_delete\" btn_action=\"quest_delete\" btn_size=\"m\"/>\r\n                        <Button handler={this.handler} init_height={this.initial_height} btn_src={btn_create} btn_id=\"btn_quest_create\" btn_action=\"quest_create\" btn_size=\"m\"/>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    }\r\n\r\n    createQuestEntry(){\r\n        //read json array into variable\r\n        var questsArray = [];\r\n        var questID;\r\n        if(this.storage.getItem(\"questsArray\") === \"\"){\r\n            questID = 0;\r\n        }\r\n        else{\r\n            questsArray = JSON.parse(this.storage.getItem(\"questsArray\"));\r\n        }\r\n        //append new quest\r\n        var questObject = {\r\n            quest_id: questsArray.length,\r\n            quest_name: document.getElementById(\"goalTextArea\").value,\r\n            quest_details: document.getElementById(\"detailsTextArea\").value,\r\n            quest_diff: this.state.active_diff\r\n        }\r\n        //make name and difficulty mandatory\r\n        if (!questObject.quest_name || questObject.quest_diff === \"null\"){\r\n            alert(\"Please enter the name and select the difficulty!\");\r\n        }\r\n        else{\r\n            //alert(quest_name + \" \" + quest_details + \" \" + quest_diff);\r\n            //overwrite array back into localStorage\r\n            questsArray.push(questObject);\r\n            this.storage.setItem(\"questsArray\", JSON.stringify(questsArray));\r\n            this.props.history.push(\"/\");\r\n        }\r\n\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.initial_height = parseInt(document.body.scrollHeight);\r\n    }\r\n\r\n    componentDidMount() {\r\n        let body_height = parseInt(document.body.scrollHeight) - (2*parseInt(getComputedStyle(document.getElementById('newQuestView'),null).getPropertyValue('border-width')));\r\n        document.getElementById(\"newQuestView\").setAttribute(\"style\", (\"height: \" + body_height + \"px\"));\r\n        //set newQuestText height\r\n        let quest_height = this.initial_height*0.07;\r\n        document.getElementById(\"newQuestTextImg\").setAttribute(\"style\", (\"height:\" + quest_height + \"px; margin-top: 10px;\"));\r\n        //set textareas' font size\r\n        let goals_font_size = this.initial_height*0.03;\r\n        //goal\r\n        document.getElementById(\"goalTextArea\").setAttribute(\"style\", (\"font-size: \" + goals_font_size + \"px\"));\r\n        //description\r\n        document.getElementById(\"detailsTextArea\").setAttribute(\"style\", (\"font-size: \" + goals_font_size + \"px\"));\r\n    }\r\n}\r\n\r\nexport default withRouter(NewQuestView);\r\n"]},"metadata":{},"sourceType":"module"}